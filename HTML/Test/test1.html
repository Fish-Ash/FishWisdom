<!DOCTYPE html>
<html>
<head>
  <title>Draggable Circle Button</title>
  <style>
    #drag-btn {
      width: 50px;
      height: 50px;
      border-radius: 50%; /* 使按钮呈圆形 */
      background-color: blue;
      color: white;
      cursor: move; /* 更改鼠标指针的图标 */
      position: absolute; /* 设置按钮位置 */
      top: 50px;
      left: 50px;
      text-align: center;
      line-height: 50px;
      user-select: none; /* 防止选中按钮上的文本 */
    }
  </style>
</head>
<body>

  <button id="drag-btn">拖我</button>

  <script>
    // 获取按钮元素
    const dragBtn = document.getElementById('drag-btn');

    // 定义变量来存储鼠标位置和按钮位置
    let pos = { top: 0, left: 0, x: 0, y: 0 };

    // 当鼠标按下时触发函数
    function mouseDown(e) {
      e.preventDefault();
      
      // 获取鼠标当前位置
      pos.x = e.clientX;
      pos.y = e.clientY;
      
      // 获取按钮当前位置
      pos.left = dragBtn.offsetLeft;
      pos.top = dragBtn.offsetTop;

      // 添加鼠标移动和鼠标释放事件监听器
      document.addEventListener('mousemove', mouseMove);
      document.addEventListener('mouseup', mouseUp);
    }

    // 当鼠标移动时触发函数
    function mouseMove(e) {
      // 计算鼠标移动的距离
      const dx = e.clientX - pos.x;
      const dy = e.clientY - pos.y;

      // 设置按钮的新位置
      dragBtn.style.left = `${pos.left + dx}px`;
      dragBtn.style.top = `${pos.top + dy}px`;
    }

    // 当鼠标释放时触发函数
    function mouseUp() {
      // 移除鼠标移动和鼠标释放事件监听器
      document.removeEventListener('mousemove', mouseMove);
      document.removeEventListener('mouseup', mouseUp);
    }

    // 给按钮添加鼠标按下事件监听器
    dragBtn.addEventListener('mousedown', mouseDown);
  </script>

</body>
</html>
